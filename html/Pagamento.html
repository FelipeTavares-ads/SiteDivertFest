<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/pagamento.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="shortcut icon" href="/css/imagens/logo.ico.ico" type="image/x-icon">
  <title>Pagamento</title>
  <link rel="stylesheet" href="/css/pagamento.css">
  <script type="module">
    import { logout } from '/js/auth.js';
    window.logout = logout;

    // Verifica se o usuário está logado
    const token = localStorage.getItem("bearerToken");
    if (!token) {
        window.location.href = "/html/login.html";  // Redireciona para a página de login
    }
  </script>
  <script type="module" src="/js/pagamento.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-lg">
    <img class="logo" src=/css/imagens/logo.png alt="Logo Divert Fest">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Alterna navegação">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="/html/main-locatario.html">HOME </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/html/explorar-locatario.html">EXPLORAR</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/html/gestao.html">PEDIDOS <span class="sr-only">(Página atual)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/html/duvidas-locatario.html">DÚVIDAS</a>
        </li>
        <li class="nav-item dropdown direita">
          <a class="nav-link dropdown-toggle direita" href="#" id="navbarDropdownMenuLink" role="button"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img class="perfil" src="/css/imagens/perfil.png" alt="oi">
          </a>
          <div class="dropdown-menu direita" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="/html/editar-locatario.html"> Editar Perfil</a>
            <a class="dropdown-item" href="javascript:void(0);" onclick="logout()">Sair</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="/html/main-locatario.html">
          <img class="home" src="/css/imagens/Home.png" alt="Home">
        </a>
      </li>
      <li class="breadcrumb-item">
        <a href="/html/agendamento.html">Agendamento</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Pagamento</li>
    </ol>
  </nav>

  <main class="conteudo">
    <!-- Resumo do pedido -->
    <div class="resumo-pedido">
      <h2>Resumo do Pedido</h2>
      <div class="item-carrinho">
        <div>
          <img src="" alt="Imagem do Brinquedo" height="150px">
        </div>
        <div class="detalhes-item">
          <h3 id="titulo-item"></h3>
          <p id="subtitulo-item"></p>
          <p id="data-reserva"></p>
          <p id="hora-reserva"></p>
        </div>
        <div id="preco-item"></div>
      </div>

      <div class="container-endereco">
        <h3 class="titulo">Endereço de Entrega</h3>
        <p id="endereco-item"></p>
      </div>
    </div>

    <!-- Método de pagamento -->
    <div class="container-pagamento">
      <h3 class="titulopg">Método de Pagamento</h3>
      <div class="pix-info">
        <h4>Pix - Copia e Cola</h4>
        <input type="text" class="campo" value="00020101021129070014br.gov.bcb.pix0002010000004005185678370001291112345678990" readonly>
        <button onclick="copiarPix()" class="btn-copiar">Copiar</button>
      </div>
    </div>

    <!-- Botão de confirmação -->
    <div class="confirmacao">
      <h1 id="total">TOTAL: 1 ITEM</h1>
      <button id="botaoconfirmar">Confirmar</button>
    </div>
    <div id="successMessage" class="success-modal" style="display: none;">
      <p>✅ Pedido confirmado com sucesso!</p>
    </div>
  </main>
</body>

<script>
  // Função para copiar o Pix para a área de transferência
  function copiarPix() {
    const pixCode = document.querySelector(".pix-info input");
    pixCode.select();
    document.execCommand("copy");
    alert("Código Pix copiado para a área de transferência!");
  }
</script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</html>